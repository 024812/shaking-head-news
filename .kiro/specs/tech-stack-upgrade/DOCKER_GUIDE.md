# Docker 部署指南

## 概述

本指南介绍如何使用 Docker 容器化部署"摇头看新闻"应用。Docker 部署提供了环境一致性、易于扩展和简化部署流程等优势。

## 为什么使用 Docker？

### 优势

1. **环境一致性**

   - 开发、测试、生产环境完全一致
   - 避免"在我机器上能运行"的问题

2. **易于部署**

   - 一键构建和部署
   - 简化 CI/CD 流程

3. **资源隔离**

   - 应用运行在独立容器中
   - 不影响宿主机环境

4. **可扩展性**

   - 轻松实现水平扩展
   - 支持 Kubernetes 等编排工具

5. **版本管理**
   - 镜像版本化管理
   - 快速回滚到之前版本

### 与 Vercel 部署的对比

| 特性       | Vercel             | Docker         |
| ---------- | ------------------ | -------------- |
| 部署速度   | ⚡ 极快            | 🐢 较慢        |
| 配置复杂度 | ✅ 简单            | ⚠️ 中等        |
| 成本       | 💰 按使用付费      | 💵 固定成本    |
| 自定义性   | ⚠️ 有限            | ✅ 完全控制    |
| 边缘网络   | ✅ 全球 CDN        | ❌ 需自建      |
| 适用场景   | 快速原型、小型应用 | 企业级、自托管 |

## 架构设计

### 多阶段构建

```
┌─────────────────────────────────────────────────────────┐
│ 阶段 1: deps (依赖安装)                                  │
│ - 基础镜像: node:20-alpine                               │
│ - 安装 npm 依赖                                          │
│ - 输出: node_modules                                     │
└─────────────────────────────────────────────────────────┘
                          ↓
┌──────────────────────────────────────────────────────
```
